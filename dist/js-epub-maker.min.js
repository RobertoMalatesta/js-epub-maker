!function e(n,t,o){function i(l,u){if(!t[l]){if(!n[l]){var f="function"==typeof require&&require;if(!u&&f)return f(l,!0);if(r)return r(l,!0);var s=new Error("Cannot find module '"+l+"'");throw s.code="MODULE_NOT_FOUND",s}var d=t[l]={exports:{}};n[l][0].call(d.exports,function(e){var t=n[l][1][e];return i(t?t:e)},d,d.exports,e,n,t,o)}return t[l].exports}for(var r="function"==typeof require&&require,l=0;l<o.length;l++)i(o[l]);return i}({1:[function(e,n,t){!function(){"use strict";var o="undefined"!=typeof console&&console.debug?console.debug:function(){},i=e("./js/slugify.js"),r={"idpf-wasteland":e("../src/js/template-builders/idpf-wasteland-builder.js").builder},l=function(){var e=this,n={};this.newMaker=function(){return new l},this.withTitle=function(t){return n.title=t,n.slug=i(t),e},this.withTemplate=function(t){return n.templateName=t,e},this.makeEpub=function(){r[n.templateName].make(n).then(function(e){o.call(console,"generating epub for: "+n.title);var t=e.generate({type:"blob",mimeType:"application/epub+zip",compression:"DEFLATE"}),i=n.slug+".epub";o.call(console,'saving "'+i+'"...'),saveAs(t,i)})}};if("undefined"!=typeof n)n.exports.EpubMaker=l;else if("undefined"!=typeof t)t.EpubMaker=l;else if("undefined"==typeof window)throw new Error("unable to expose EpubMaker: no module, exports object and no global window detected");"undefined"!=typeof window&&(window.epubMaker=new l)}()},{"../src/js/template-builders/idpf-wasteland-builder.js":3,"./js/slugify.js":2}],2:[function(e,n,t){!function(){function e(e){return e.toLowerCase().replace(/\s/g,"-")}if(n.exports="undefined"!=typeof s&&s.slugify?s.slugify:e,n.exports===e){var t="undefined"!=typeof console&&console.debug?console.debug:function(){};t.call(console,"underscore.string not found, falling back on (very) simple slugify..")}}()},{}],3:[function(e,n,t){!function(){"use strict";var e="dist/epub_templates/from_idpf_epub3/wasteland",o=function(){function n(n,t){return $.get(e+"/mimetype",function(e){n.file("mimetype",e)},"text")}function t(n,t){return $.get(e+"/META-INF/container.xml",function(e){n.folder("META-INF").file("container.xml",Handlebars.compile(e)(t))},"text")}function o(n,t){return $.get(e+"/EPUB/wasteland.opf",function(e){n.folder("EPUB").file(t.slug+".opf",Handlebars.compile(e)(t))},"text")}function i(n,t){var o=$.Deferred();return JSZipUtils.getBinaryContent(e+"/EPUB/wasteland-cover.jpg",function(e,i){e?o.reject(e):(n.folder("EPUB").file(t.slug+"-cover.jpg",i,{binary:!0}),o.resolve(""))}),o.promise()}function r(n,t){return $.get(e+"/EPUB/wasteland.ncx",function(e){n.folder("EPUB").file(t.slug+".ncx",Handlebars.compile(e)(t))},"text")}function l(n,t){return $.get(e+"/EPUB/wasteland-nav.xhtml",function(e){n.folder("EPUB").file(t.slug+"-nav.xhtml",Handlebars.compile(e)(t))},"text")}function u(n,t){return $.when($.get(e+"/EPUB/wasteland.css",function(e){n.folder("EPUB").file(t.slug+".css",e)},"text"),$.get(e+"/EPUB/wasteland-night.css",function(e){n.folder("EPUB").file(t.slug+"-night.css",e)},"text"))}function f(n,t){return $.get(e+"/EPUB/wasteland-content.xhtml",function(e){n.folder("EPUB").file(t.slug+"-content.xhtml",Handlebars.compile(e)(t))},"text")}this.make=function(e){console.debug("building epub",e);var s=new JSZip,d=$.Deferred();return $.when(n(s,e),t(s,e),o(s,e),i(s,e),r(s,e),l(s,e),u(s,e),f(s,e)).then(function(){d.resolve(s)}),s.file("Hello.txt","Hello World\n"),d.promise()}};if("undefined"!=typeof n)n.exports.builder=new o;else if("undefined"!=typeof t)t.builder=new o;else if("undefined"==typeof window)throw new Error("unable to expose module: no module, exports object and no global window detected");"undefined"!=typeof window&&(window.epubMaker=new o)}()},{}]},{},[1]);